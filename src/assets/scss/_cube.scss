/* ------------------------------------------------------------ *\
	Cube
\* ------------------------------------------------------------ */

.cube-container {
	position: relative; 
	width: 525px; 
	height: 525px; 
	margin: 0 auto; 
	transform: translateX(50%); 
	font-size: 18px; 
	margin-top: 80px; 
	animation: height .2s 2s;
	display: flex; 
	align-items: center;

	.cube-container--inner {
		width: 0; 
		font-size: 0; 
		line-height: 0; 
	}


	&.animated {
		height: auto !important; 
	}


	.cube__content {
		width: calc(100% -1px); 
		flex: 0 0 100%;
		width: 100%; 
		margin-left: 1px; 
		transform: translateX(-50%); 
		z-index: 100; 
		color: #000; 
		text-align: center; 
		// min-height: 525px; 
		visibility: hidden; 
		// margin-top: 0 !important; 

		&-outer {
			padding: 30px 30px 30px; 
			transform: scale(0);
			transform-origin: 50% 0;
			transform-origin: 50% 50%;
			transition: transform .8s;
			background-color: #fff; 
		}

		&-inner {
			height: 100%; 
			opacity: 0; 
			transition: opacity 1s 1s;
		}

		h2 {
			margin-bottom: 25px; 
		}

		p {
			& + p {
				margin-top: 11px; 
			}
		}
	}

	&[animated="true"] {
		.cube__content {
			visibility: visible; 
			opacity: 1; 
			// transform: translateX(-50%);

			&-outer {
				transform: none;
			}

			&-inner {
				opacity: 1; 
			}
		}
	}


	.flex {
	  display: flex;
	  justify-content: center;
	  align-items: center;
	  width: 131px;
	  height: 131px;
	  margin: 0 -131px 0 0;
	  opacity: 1; 
	  animation: fadeOut .5s linear 4s forwards;
	}

	/* cube */
	.cube {
	  position: relative;
	  width: 1px;
	  height: 1px;
	  margin: 0 131px 0 0;
	  transform-style: preserve-3d;
	}
	.wall {
	  width: 131px;
	  height: 131px;
	  position: absolute;
	  left: calc(-131px / 2);
	  top: calc(-131px / 2);
	  text-align: center;
	  line-height: 100px;
	  border: solid 1px #fff;
	}
	.front {
	  transform: translateZ(calc(131px / 2));
	}
	.back {
	  transform: translateZ(calc(-131px / 2)) rotateY(180deg);
	}
	.right {
	  transform: translateX(calc(131px / 2)) rotateY(90deg);
	}
	.left {
	  transform: translateX(calc(-131px / 2)) rotateY(-90deg);
	}
	.top {
	  transform: translateY(calc(-131px / 2)) rotateX(90deg);
	}
	.bottom {
	  transform: translateY(calc(131px / 2)) rotateX(-90deg);
	}

	&:not(.no-anim) {

		.cube__content {
			// animation: fadeIn .5s linear 3.5s forwards;
		}
		/* animation */

		//first
		.anim:nth-of-type(4) .cube:nth-of-type(1) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.5s forwards;
		}

		//sec
		.anim:nth-of-type(3) .cube:nth-of-type(1) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.6s forwards;
		}
		.anim:nth-of-type(4) .cube:nth-of-type(2) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.6s forwards;
		}

		//third
		.anim:nth-of-type(2) .cube:nth-of-type(1) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.7s forwards;
		}
		.anim:nth-of-type(3) .cube:nth-of-type(2) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.7s forwards;
		}
		.anim:nth-of-type(4) .cube:nth-of-type(3) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.8s forwards;
		}

		//forth
		.anim:nth-of-type(1) .cube:nth-of-type(1) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.8s forwards;
		}
		.anim:nth-of-type(2) .cube:nth-of-type(2) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.8s forwards;
		}
		.anim:nth-of-type(3) .cube:nth-of-type(3) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.8s forwards;
		}
		.anim:nth-of-type(4) .cube:nth-of-type(4) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.8s forwards;
		}

		//five
		.anim:nth-of-type(1) .cube:nth-of-type(2) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.9s forwards;
		}
		.anim:nth-of-type(2) .cube:nth-of-type(3) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.9s forwards;
		}
		.anim:nth-of-type(3) .cube:nth-of-type(4) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 0.9s forwards; 
		}

		//six
		.anim:nth-of-type(1) .cube:nth-of-type(3) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 1s forwards;
		}
		.anim:nth-of-type(2) .cube:nth-of-type(4) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 1s forwards;
		}

		//seven
		.anim:nth-of-type(1) .cube:nth-of-type(4) {
		  animation: rotation 3s cubic-bezier(0.215, 0.61, 0.355, 1) 1.1s forwards;
		}
		
		.wall{
		  animation: color 2s linear 1.5s forwards;
		}

	}	

	@media #{$tablet-portrait} {
		width: 64vw; 
		height: 64vw; 

		.cube__content {
			min-height: 64vw; 
			font-size: 15px; 
			width: calc(100% + 4px); 

			&-outer {
				padding: 15px; 
			}

			h2 {
				line-height: 1.1; 
				margin-bottom: 15px; 
			}
		}

		.flex {
			width: 16vw; 
			height: 16vw; 
		}

		.cube {
			margin: 0 16vw -0px 0; 
		}

		.wall {
			width: 16vw; 
			height: 16vw; 
			left: calc(-16vw / 2);
			top: calc(-16vw / 2);
		}

		.front {
		  transform: translateZ(calc(16vw / 2));
		}
		.back {
		  transform: translateZ(calc(-16vw / 2)) rotateY(180deg);
		}
		.right {
		  transform: translateX(calc(16vw / 2)) rotateY(90deg);
		}
		.left {
		  transform: translateX(calc(-16vw / 2)) rotateY(-90deg);
		}
		.top {
		  transform: translateY(calc(-16vw / 2)) rotateX(90deg);
		}
		.bottom {
		  transform: translateY(calc(16vw / 2)) rotateX(-90deg);
		}

		
	}

	@media #{$mobile} {
		width: 90vw; 
		height: auto; 
		margin-top: 20px; 

		.cube__content {
			width: auto; 
			width: 84vw; 
		}


		.flex {
			width: 18vw; 
			height: 18vw; 
		}

		.cube {
			margin: 0 18vw -0px 0; 
		}

		.wall {
			width: 18vw; 
			height: 18vw; 
			left: calc(-18vw / 2);
			top: calc(-18vw / 2);
		}

		.front {
		  transform: translateZ(calc(18vw / 2));
		}
		.back {
		  transform: translateZ(calc(-18vw / 2)) rotateY(180deg);
		}
		.right {
		  transform: translateX(calc(18vw / 2)) rotateY(90deg);
		}
		.left {
		  transform: translateX(calc(-18vw / 2)) rotateY(-90deg);
		}
		.top {
		  transform: translateY(calc(-18vw / 2)) rotateX(90deg);
		}
		.bottom {
		  transform: translateY(calc(18vw / 2)) rotateX(-90deg);
		}
	}
}

@keyframes fadeIn {
	0% {
		opacity: 0; 
	}
  100% {
  	opacity: 1; 
  }
}

@keyframes fadeOut {
  100% {
  	opacity: 0; 
  }
}

@keyframes rotation {
  100% {
    transform: rotateX(270deg) rotateY(270deg);
  }
}

@keyframes color {
  100% {
    background-color: #fff;
  }
}
